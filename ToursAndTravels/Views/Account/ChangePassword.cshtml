@{
    ViewData["Title"] = "Change Password";
}

<div class="container">
    <div class="change-password-box">
        <h2 class="text-center">Change Password</h2>
        <form method="post">
            @Html.AntiForgeryToken()  @* ✅ Security ke liye AntiForgeryToken *@

            <div class="form-group">
                <label>Current Password</label>
                <input type="password" name="currentPassword" class="form-control" required />
            </div>

            <div class="form-group">
                <label>New Password</label>
                <input type="password" name="newPassword" class="form-control" required />
            </div>

            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" name="confirmPassword" class="form-control" required />
            </div>

            <button type="submit" class="btn btn-success btn-block">Change Password</button>

            @* ✅ ModelState Errors ko show karne ka sahi tareeka *@
            @if (!ViewData.ModelState.IsValid)
            {
                <ul class="text-danger">
                    @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                    {
                        <li>@error.ErrorMessage</li>
                    }
                </ul>
            }
        </form>

        <p class="text-danger text-center">@ViewBag.Message</p>
        <p class="text-center">
            <a href="/Dashboard/Index">Back to Dashboard</a>
        </p>
    </div>
</div>

<style>
    .container {
        max-width: 400px;
        margin: 50px auto;
    }

    .change-password-box {
        background: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.2);
    }

    .btn {
        margin-top: 10px;
    }

    h2 {
        color: #333;
    }
</style>
